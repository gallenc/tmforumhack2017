<xml-datacollection-config rrdRepository="/opt/opennms/share/rrd/snmp/" xmlns="http://xmlns.opennms.org/xsd/config/xml-datacollection">
  <!-- To understand how the XML Collector works, and how to configure it, please check the following link: http://www.opennms.org/wiki/XML_Collector -->


  <xml-collection name="xml-elasticsearch-cluster-stats">
    <rrd step="300">
      <rra>RRA:AVERAGE:0.5:1:2016</rra>
      <rra>RRA:AVERAGE:0.5:12:1488</rra>
      <rra>RRA:AVERAGE:0.5:288:366</rra>
      <rra>RRA:MAX:0.5:288:366</rra>
      <rra>RRA:MIN:0.5:288:366</rra>
    </rrd>
    <xml-source url="http://{ipaddr}:9200/_cluster/stats">
      <import-groups>xml-datacollection/elasticsearch-cluster-stats.xml</import-groups>
    </xml-source>
  </xml-collection>

  <!-- collection for drone / iot data 30 seconds poll -->
  <xml-collection name="xml-iotdevice-stats">

    <rrd step="30">
      <rra>RRA:AVERAGE:0.5:1:2016</rra>
      <rra>RRA:AVERAGE:0.5:12:1488</rra>
      <rra>RRA:AVERAGE:0.5:288:366</rra>
      <rra>RRA:MAX:0.5:288:366</rra>
      <rra>RRA:MIN:0.5:288:366</rra>
    </rrd>
    <!-- {ipaddr} -->
    <!-- <xml-source url="http://139.162.227.142:8080/iot-data-data-collection-simulator/iotsimulator/api/v1/iotsamplelabel?label=fixedIoT"> -->

    <xml-source url="http://{ipaddr}:8080/iot-data-data-collection-simulator/iotsimulator/api/v1/iotsamplelabel?label={foreignId}">
      <import-groups>xml-datacollection/xml-iotdevice-stats.xml</import-groups>
    </xml-source>
  </xml-collection>
</xml-datacollection-config>
